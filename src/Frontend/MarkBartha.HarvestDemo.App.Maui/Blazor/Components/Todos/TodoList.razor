@using Microsoft.AspNetCore.Components
@using MarkBartha.HarvestDemo.Domain.Models

<section aria-labelledby="todo-list-heading"
         class="space-y-3 @(HasItems ? string.Empty : "hidden")"
         role="list">
    <h2 id="todo-list-heading" class="sr-only">To-dos</h2>

    @foreach (var todo in Items)
    {
        <TodoItemCard Id="@todo.Id"
                      Title="@todo.Title"
                      IsCompleted="@todo.IsCompleted"
                      Toggle="Toggle"
                      Delete="Delete" />
    }
</section>

@code {
    [Parameter] public IReadOnlyList<TodoItem> Items { get; set; } = Array.Empty<TodoItem>();
    [Parameter] public EventCallback<string> Toggle { get; set; }
    [Parameter] public EventCallback<string> Delete { get; set; }

    private bool HasItems => Items.Count > 0;
}
